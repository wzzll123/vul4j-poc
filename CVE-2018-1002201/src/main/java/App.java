import org.zeroturnaround.zip.ZipException;
import org.zeroturnaround.zip.ZipUtil;

import java.io.File;
import java.io.IOException;
import org.junit.Assert;
import java.nio.file.Files;

import static org.junit.Assert.assertTrue;
import static org.junit.Assert.fail;

public class App {
    public static void main(String[] args) throws IOException {
        File badFile = new File("src/main/resources/zip-malicious-traversal.zip");
        File badFileBackslashes = new File("src/main/resources/zip-malicious-traversal-backslashes.zip");
        File tmpDir = Files.createTempDirectory("temp").toFile();

        try {
            ZipUtil.unpack(badFile, tmpDir);
            fail();
        }
        catch (ZipException e) {
            System.out.println(e);
            assertTrue(true);
        }
    }
}
